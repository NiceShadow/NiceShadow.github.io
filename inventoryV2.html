<html>
	<head>
		<title>NiceShadow</title>
		<script src="https://unpkg.com/ionicons@5.2.3/dist/ionicons.js"></script>
		<link rel="stylesheet" href="style.css" type="text/css" >
		<link rel="icon" href="images/fl3.ico">
	</head>
	<body>
		<header>
			<a href="index.html" class="logo"><img src="images/home.png" width="auto" height="50px" alt="logo" onContextMenu="return false;"></a>
			<ul>
				<li><a target="blank" href="https://www.unrealengine.com/marketplace/en-US/profile/NiceShadow?count=20&sortBy=effectiveDate&sortDir=DESC&start=0">Marketplace</a></li>
				<li><a target="blank" href="https://www.youtube.com/NiceShadow">YouTube</a></li>
				<li><a target="blank" href="https://discord.gg/cecaphy">Contact</a></li>
			</ul>	
		</header>
		<script type="text/javascript">
			window.addEventListener("scroll", function(){
				var header = document.querySelector("header");
				header.classList.toggle("sticky", window.scrollY > 0);
		})
		</script>
	
	
<div class= "banner3">

<!--<div class= "bannerText">NiceShadow</div></br>-->
<div class="container2" style="padding-top:345px;>
		<a href="https://discord.gg/cecaphy" style="text-decoration: none;" target="blank"><div class="boxa"><img src="images/contact1.png" alt="banner" class="banner" onContextMenu="return false;"></div></a>
		<a href="https://www.unrealengine.com/marketplace/en-US/profile/NiceShadow?count=20&sortBy=effectiveDate&sortDir=DESC&start=0" style="text-decoration: none;" target="blank"><div class="boxa"><img src="images/other2.png" alt="banner" class="banner" onContextMenu="return false;"></div></a>
		<a href="https://www.youtube.com/NiceShadow" style="text-decoration: none;" target="blank"><div class="boxa"><img src="images/other1.png" alt="banner" class="banner" onContextMenu="return false;"></div></a>
</div>
</div>

</br></br>

<div class="container">

<h1>Video Documentation</h1>
</br>





<div id="overlay" onclick="off()">
  <div id="videoborder"><iframe id="myVideoId" width="1134" height="638" src="https://www.youtube.com/embed/c6N8h7RkkUQ" title="Integration" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
</div>

  <button class="videobutton" onclick="on('https://www.youtube.com/embed/Cs6YZNjSlAA')"><img src="images/thumbnailIntegration.png" width="200px" height="auto" onContextMenu="return false;"></br></button>
  <button class="videobutton" onclick="on('https://www.youtube.com/embed/1_QQNNqxzQY')"><img src="images/thumbnailadditems.png" width="200px" height="auto" onContextMenu="return false;"></br></button>
</br></br>
<p style="color: #d45c28">IMPORTANT NOTE for integration: Migration got buggy in ue5.1. If you want to integrate the inventory in a 5.1 project make sure that you create the inventory project in
ue5.0 (NOT 5.1) Then you can migrate the inventory to your 5.1 project and you should be fine.
</p>
</br></br></br>

<h1>Written Documentation</h1>


<!--
<div class="accordion-item"><button class="accordion-link">OuterTitle</button><div class="panel"><p>
Text1

<div class="accordion-item"><button class="accordion-link"><p style="color: grey; font-size: 1.1rem; ">InnerTitle</p></button><div class="panel"><p>
InnerBox Text1
<img src="images/v51_fix2.png" width="100%" height="auto" onContextMenu="return true;"></br></br>
</p></div></div>

</p></div></div>
-->






<div class="accordion-item"><button class="accordion-link">Bug Fixes</button><div class="panel"><p>
Here are some small bug fixes. Mostly there will be a marketplace update but if you are working with the inventory already it's not worth for you redoing the whole integration process.
Instead you can do the steps below.
</br></br>

<div class="accordion-item"><button class="accordion-link">
<p style="color: grey; font-size: 1.1rem; ">Current 5.1 Bug Fixes</p>
</button><div class="panel"><p>
This is for everyone who is using ue5.1.
The SetText node for editable texts has a buggy behaviour in ue5.1.
The inventory uses it in the crafting menu. Because of the engine bug it is not possible to clear an entered text in an editable text box but only if the default text is empty too.
To fix it, go to the EventGraph of WB_CraftingMenuSettings where you need to execute the SetText node twice. Make sure that the text input of the left SetText node is NOT empty. So you can enter
for example '0' like on this image:</br>
<img src="images/v51_fix2.png" width="100%" height="auto" onContextMenu="return true;"></br></br>

</p></div></div>


</br>
<div class="accordion-item"><button class="accordion-link">
<p style="color: grey; font-size: 1.1rem; ">Update from ue5.0 to ue5.1</p>
</button><div class="panel"><p>
Ignore this if you've downloaded the inventory after the 29th of November 2022 (then you have already a version that includes the bug fixes of this version).
</br></br>
If you have a 5.0 project and integrated the inventory already, you can go to your project's directory, right click on the .uproject file and select 'Switch Unreal Engine Version...'.
Here choose 5.1 and click the Ok button. If you start the project now, it should open in ue5.1. Because of some engine bugs that appeared in 5.1 you can do the following workaround bug fixes:
</br></br>

1) Extend the following function like on the image:</br>
<img src="images/v51_fix1.png" width="100%" height="auto" onContextMenu="return true;"></br></br>

2) Be aware that the muzzle flash (P_MuzzleFlash) can cause the GPU to crash. But it can depend on the GPU model and it's drivers.
Anyways if you want to use P_MuzzleFlash, it's recommended that you open P_MuzzleFlash and deleted or deactivate all emitters except these two:</br>
<img src="images/v51_fix3.png" width="50%" height="auto" onContextMenu="return true;"></br></br>
</p></div></div>

</p></div></div>



<div class="accordion-item"><button class="accordion-link">Add Craftable item recipes</button><div class="panel"><p>
In the data table DT_CraftingRecipes you can add a new row and set up the crafting recipe to your liking.</br></br>
The tags are relevant for the search inside the crafting menu (WB_CraftingMenu).</br></br>

<div class="accordion-item"><button class="accordion-link"><p style="color: grey; font-size: 1.1rem; ">Unlock System</p></button><div class="panel"><p>
If you set a recipe in DT_CraftingRecipes on UnlockedByDefault: false, it will have a lock and you’re not able to craft this item. In your player controller you should find some key inputs (B, N, M) that should demonstrate how you can unlock a recipe.
</br></br>
From an inventory reference you need to get RefCraftingMenu and call the UnlockCraftableItem function. As ID enter the row name of a recipe that is added to DT_CraftingRecipe.
</br></br>
<img src="images/unlocksystem.png" width="60%" height="auto" onContextMenu="return true;"></br></br>
</p></div></div>

</p></div></div>



<div class="accordion-item"><button class="accordion-link">ItemString: the light version of the item structure</button><div class="panel"><p>
How it works:</br>
All items are based on a huge structure S_ItemData. It contains all data of an item, such as the name, icon, amount and so on.
All these different variables can be categorized into two groups:
</br></br>
The first group contains all static variables. This is everything that doesn’t change while playing. For example the name or icon of an item stays always the same. Or the description of items with the ID ‘wood’ stays always the same, no matter what a player does with the item during gameplay.
</br></br>
The second group contains all dynamic variables. So everything that can change while playing. For stackable items this is for example the amount. Or if an item has durability, the current durability is always dynamic.
</br></br>
The ItemString is a formatted string that only contains the item ID and all dynamic data.
With the ID, all static variables can be loaded again from the item data table.
For you the ItemString can be used very easily. There are only two global functions that you need to know and that you can use in any blueprint. They convert the item structure (S_ItemData) to an ItemString and the other way around.
</br></br>
<img src="images/ItemString.png" width="30%" height="auto" onContextMenu="return true;"></br></br>
The main advantage is that it’s much lighter to have a small string which contains only the relevant item data instead of a big item structure that contains stuff like directory paths to meshes or textures. For replication this is more efficient. Additionally to that, it’s much easier to store strings on an online database instead of a whole structure.
</br>
</p></div></div>



<div class="accordion-item"><button class="accordion-link">Save & Load Game</button><div class="panel"><p>
In your player controller you should find some key inputs that show how to trigger the save and load game functions for the inventory.</br></br>
<img src="images/SaveAndLoad1.png" width="80%" height="auto" onContextMenu="return true;"></br></br>
</br>
By default chests/containers are ignored from the save & load game functions.
But you can change it really easily:
Select a chest in your map. There, go to the Details tab and set the SaveGameID. If the SaveGameID is unique among all other chests/containers placed in the map, it's relevant for save game. If you don't want that it will be saved you can set the SaveGameID to 'No save game'.
</br></br>
<img src="images/SaveAndLoad2.png" width="70%" height="auto" onContextMenu="return true;"></br></br>
</p></div></div>



<div class="accordion-item"><button class="accordion-link">Add new body Equip slots/categories</button><div class="panel"><p>
First add a new entry to the ennumeration E_ArmorEquipSlot
</br></br>
<img src="images/equip1.png" width="40%" height="auto" onContextMenu="return true;">
</br></br></br></br>
In WB_EquipInventory (in the Design tab) you can now add a new WB_EquipSlot (Select your category on the right). This slot does not need to be necessarily inside WB_EquipInventory but make sure that WB_EquipInventory has a reference to this new equip slot: Take a look in the EventGraph and make sure that the equip slot is part of the Slots array.
</br></br>
<img src="images/equip2.png" width="50%" height="auto" onContextMenu="return true;">
</br></br></br></br>
Info: The progress of adding a new equippable item is shown in the AddItems tutorial too.</br></br>
<button class="videobutton" onclick="on('https://www.youtube.com/embed/1_QQNNqxzQY')"><img src="images/thumbnailadditems.png" width="200px" height="auto" onContextMenu="return false;"></br></button>
</br></br>
When you set up an item in a datatable make sure that the sub-structure EquipArmor is enabled and that you've selected your new category in the variable EquipSlot.
</br></br>
<img src="images/equip0.png" width="50%" height="auto" onContextMenu="return true;">
</br></br></br></br>
If you play and try to equip the new item it will search in your character for a skeletal- or static mesh or a child actor (depending on what you added in the item table) that has a tag that matches the category you've added before in E_ArmorEquipSlot.
</br></br>
<img src="images/equip3.png" width="90%" height="auto" onContextMenu="return true;">
</br></br></br>
</p></div></div>



</br></br></br></br></br>
More to follow soon...
<h1>Need further help? Get Support on Discord!</h1>
</br>
<iframe src="https://discord.com/widget?id=409731562310074368&theme=dark" width="400" height="500" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts" style="-webkit-box-shadow: 0px 0px 37px 5px rgba(0,0,0,0.53);-moz-box-shadow: 0px 0px 37px 5px rgba(0,0,0,0.53);box-shadow: 0px 0px 37px 5px rgba(0,0,0,0.53);"></iframe>
</br></br>
<!--
<div class="accordion-item"><button class="accordion-link">
How to update the inventory to the latest version (v 1.6) ?
</button><div class="panel"><p>
Before you try to update to the latest version, it's recommended to backup your project. Then create a new inventory project:</br>
<img src="images/cp.png" width="auto" height="auto" onContextMenu="return false;"></br></br>
Now you can do different things, depending on the changes you made in the inventory system. If you currently have v 1.5 it's the easiest way to update only the things that are new in this verion (described in next dropdwon menu)
If your version is v 1.4 or older it's in most cases the easiest way to replace the whole inventory with the new version.
Then you can copy the table entries (Item_Table & Craft_Table) from your backup project and paste them in your project. Further you can change the UI if you made changes there before.
And do the changes you may made in the bleuprint of the inventory.
</br></br>
<div class="accordion-item"><button class="accordion-link">
Update from v 1.52 to v 1.6 (latest)
</button><div class="panel"><p>
This update contains many new features and updating it from an older version takes much time.</br>
If you didn't make big changes to the inventory and only added items, changed the UI or did small other changes, I would recommend to replace the whole inventory and then do the changes you had before again.
Before your're doing backup your project.</br></br>
If you made big changes to the inventory there is also the option to add all changes manually.</br>
If you decide to do that make sure that your project is on v 1.52.</br>
Create a new project with v 1.6 and search in the whole project for 'new in v 1.6' like on this image:</br></br>
<img src="images/FindResults4.png" width="auto" height="auto" onContextMenu="return false;"></br>
NOTE: It should return 91 comment boxes. If you have less results repeat the search (it's sometimes buggy).</br></br>
Then you can copy and integrate the blueprint that is in these blue comment boxes to your project.
</br>
</p></div></div>
<div class="accordion-item"><button class="accordion-link">
Update from v 1.51 to v 1.52
</button><div class="panel"><p>
There's only one small bug fix and the update won't take much time.</br>
Create a new project with v 1.52 and search in the whole project for 'Bug Fix v 1.52' like on this image:</br></br>
<img src="images/FindResults3.png" width="auto" height="auto" onContextMenu="return false;"></br>
NOTE: It should return 2 comment boxes. If you have less results repeat the search (it's sometimes buggy).</br></br>
Then you can copy and integrate the blueprint that is in these green comment boxes to your project.
</br>
</p></div></div>
<div class="accordion-item"><button class="accordion-link">
Update from v 1.5 to v 1.51
</button><div class="panel"><p>
There are only small bug fixes and the update won't take much time.</br>
Create a new project with v 1.51 and search in the whole project for 'Bug Fix v 1.51' like on this image:</br></br>
<img src="images/FindResults2.png" width="auto" height="auto" onContextMenu="return false;"></br>
NOTE: It should return 6 comment boxes. If you have less results repeat the search (it's sometimes buggy).</br></br>
Then you can copy and integrate the blueprint that is in these blue comment boxes to your project.
</br>
</p></div></div>
<div class="accordion-item"><button class="accordion-link">
Update from v 1.4 to v 1.5
</button><div class="panel"><p>
If you made small or no changes in blueprint, update the whole inventory like described above.</br></br>
If you made huge changes in blueprint you have the option to update only the blueprints that are new in v 1.5.</br>
Search from any bleuprint in the whole project for 'new in v 1.5' like on this image:</br>
<img src="images/FindResults1.png" width="auto" height="auto" onContextMenu="return false;"></br>
NOTE: It should return more than 130 comment boxes. If you have less results repeat the search (it's sometimes buggy).</br></br>
All the bleuprint that is in these comment boxes is new in v 1.5.
</p></div></div>
</p></div></div>



<div class="accordion-item"><button class="accordion-link">
Integration into your project
</button><div class="panel"><p>
You can either use the project as a base or add it to an existing project!
This is very easy, even if you already have a player controller, game mode, 
character or HUD. Here is a tutorial where I show you the individual steps that 
you can take according to your needs. If you want to import the inventory project to your project make sure that you have the same collision channels in your project (I show it at the beginning of the tutorial).
<iframe width="1134" height="638" src="https://www.youtube.com/embed/PpWEsdawhOI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</br></br>
<div class="accordion-item"><button class="accordion-link">
<p style="color: grey; font-size: 1.1rem; ">Things you have to note if you want to combine it with ALS (Advanced Locomotion System V4)</p>
</button><div class="panel"><p>
If you can't climb/mantle anymore check the value of these two Trace Channels.
Due to the import it could be changed to "PlaceTrace". Then you have to set it back to "Climbable".</br></br>
<img src="images/alsBug1.png" width="100%" height="auto" onContextMenu="return false;">
</p></div></div>
</p></div></div>


<div class="accordion-item"><button class="accordion-link">
Add new items
</button><div class="panel"><p>
Open "Item_Table" and click on "Add" to add new items. <boldtext>To prevent any further problems make sure 
that your Row Names must start with "NewRow_" + a unique number and set the ID to this number +1 (e.g. NewRow_12 and the ID is 13). 
An exception is the Row Name "NewRow". This is for ID = 0.</boldtext> On the image are descriptions of the different variables you can setup in the Row Editor
of the selected item.</br></br>
<img src="images/add.png" width="100%" height="auto"></br></br>
<div class="accordion-item"><button class="accordion-link">
<p style="font-size: 1.1rem; ">Add pickupable ground items</p>
</button><div class="panel"><p>
Just drag 'BP_NewDropItemActor_Master' into your map:</br></br>
<img src="images/PuckupItem.png" width="50%" height="auto" onContextMenu="return false;"></br></br>
In the Details tab of this item set 'Spawn at Start?' on true. Then you change ID and Amount At start and you should see the mesh updating in the editor automatically.</br>
<img src="images/ItemSpawnAtStart.png" width="50%" height="auto" onContextMenu="return false;"></br></br>

</p></div></div>
</p></div></div>


<div class="accordion-item"><button class="accordion-link">
Add new craftable items
</button><div class="panel"><p>
Open "Craft_Table" and click on "Add" to add new craftable items. <boldtext>To prevent any further problems make sure 
that your first row name is 'NewRow' your 2nd would be 'NewRow_0' then 'NewRow_1' and so on. So just add new rows, don't rename them and you should be fine. 
</boldtext> On the image are descriptions of the different variables you can setup in the Row Editor of the selected item.</br></br>
<img src="images/add2.png" width="100%" height="auto">
</p></div></div>


<div class="accordion-item"><button class="accordion-link">
Setup armor
</button><div class="panel"><p>
(soon)
</p></div></div>


<div class="accordion-item"><button class="accordion-link">
Things you can do if you've a Packaging Error
</button><div class="panel"><p>
Sometimes it helps to compile (even if it's already compiled) and save all blueprints (including the widget blueprints) regarding the inventory.
If this didn't help please contact me.
</p></div></div>
-->

<h1>Version Log</h1>
<div class="accordion-item"><button class="accordion-link">
Features and bug fixes of all versions
</button><div class="panel"><p>

<h3>New in v 2.0</h3></br>
See marketplace</br></br></br>

<h3>New in v 1.6</h3></br>
<ul style="padding-left: 30px">
  <li>Shop/Vendor: Product creator; product browser; sell to other players or AI</li>
  <li>Player to player trade: Trade in items; buy items; sell items</li>
  <li>Simple money system; It's stored in player state -> perfect for one session, otherwhise it's recommended to manage the money on a cloud so a player can receive offline money.</li>
  <li>3D item inspector: rotate item; item info and description</li>
  <li>Campfires can cook a certain amount at once now</li>
  <li>Option to equip item for the left hand too</li>
  <li>bug fixes</li>
</ul></br></br></br>

<h3>New in v 1.51 (bug fixes of the following bugs)</h3></br>
<ul style="padding-left: 30px">
  <li>Equip in hand when swapping items within the hotbar</li>
  <li>Swapping a fuel and armor item to an equip item (no fuel) from a fuel slot in the campfire</li>
  <li>Hiding the weapon UI hides it on other clients as well (only in editor)</li>
  <li>Dragging an armor item from an armor slot doesn't show the slot background again</li>
</ul></br></br></br>

<h3>New in v 1.5</h3></br>
<ul style="padding-left: 30px">
  <li>Campfire (easy o change amount of cooking/fuel/content slots)</li>
  <li>Backpack (set slot amount in ItemTable)</li>
  <li>Simple Third Person Shooter to show how it's connected with the inventory + weapon info & ammo system</li>
  <li>Lootboxes: hold a key to open -> drops items or adds them directly to the inventory</li>
  <li>A few bug fixes (ask me for details)</li>
  <li>and other small adjustments</li>
</ul></br></br></br> 

<h3>New in v 1.4</h3></br>
<ul style="padding-left: 30px">
  <li>bug fixes for chest replication</li>
  <li>Define amount of chest slots in each chest actor</li>
  <li>Place items in your map (editor)</li>
  <li>Consume items and durability for items</li>
  <li>faster setup for your PC or GM (Interfaces and Components)</li>
</ul></br></br></br> 

</p></div></div>


</div>

</br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br>
<script>

var acc = document.getElementsByClassName("accordion-link");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }
  });
}

//overlay
function hideallvideos() {

	var videos = document.querySelectorAll('iframe, video');
	Array.prototype.forEach.call(videos, function (video) {
		if (video.tagName.toLowerCase() === 'video') {
			video.pause();
		} else {
			var src = video.src;
			video.src = src;
		}
	});

}



//overlay1
function on(url) {
    document.getElementById("overlay").style.display = "block";
    //var site = url+'?toolbar=0&amp;navpanes=0&amp;scrollbar=0';
    document.getElementById('myVideoId').src = url;
}
function off() {
    document.getElementById("overlay").style.display = "none";
	//hideallvideos();
	document.getElementById('myVideoId').src = 'https://www.youtube.com/embed/c6N8h7RkkUQ';
}

</script>
<html>